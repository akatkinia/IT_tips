## Таблица маршрутизации
**Таблица маршрутизации** описывает соответствие между адресами назначения и интерфейсами, через которые следует отправить пакет данных до следующего маршрутизатора.  
**Таблица маршрутизации** - это база данных на маршрутизаторе, которая содержит информацию о доступных маршрутах для достижения различных сетей и хостов. Когда пакет поступает на маршрутизатор, он проверяет таблицу маршрутизации, чтобы определить, какой маршрут должен использоваться для передачи пакета. Таблица маршрутизации может быть создана автоматически при настройке маршрутизатора (динамическая маршрутизация) или заполнена вручную администратором сети (статическая маршрутизация).  
  
**Маршрут** в таблице маршрутизации - это информация о том, как достичь определенной сети или хоста. Это включает в себя **IP-адрес назначения**, **маску подсети** и **интерфейс**, через который следует отправлять пакеты.  
  
### Содержание таблицы маршрутизации
* **Адрес сети или узла назначения**, либо указание, что маршрут является маршрутом по умолчанию. Т.е. куда мы хотим попасть.
* **Маска сети назначения**. Если указан адрес для сети, у нас будет маска какая-либо, например /24. Если же у нас указан адрес до узла назначения, маска будет /32.
* **Шлюз**, обозначающий адрес маршрутизатора в сети, на который необходимо отправить пакет, следующий до указанного адреса назначения. Т.е. куда мы будем направлять дальше.
* **Интерфейс** через который доступен шлюз. Т.е. это сетевой интерфейс на маршрутизаторе, через который можно достичь определённую сеть или хост.
* **Метрика** - числовой показатель, задающий предпочтительность маршрута. Чем меньше число, тем более предпочтителен маршрут.
* Возможны и другие параметры.  
    
Когда пакет поступает на маршрутизатор, он проверяет таблицу маршрутизации, чтобы определить, какой интерфейс должен использоваться для передачи пакета. Каждая запись в таблице маршрутизации содержит информацию о сети или хосте, а также о том, через какой интерфейс следует отправлять пакеты в эту сеть или хост. Интерфейс может быть физическим или логическим, например, виртуальным интерфейсом для VPN-подключения.  
  
#### Маршрут по умолчанию  
**Маршрут по умолчанию** - это запись в таблице маршрутизации, которая указывает на **шлюз по умолчанию** для отправки пакетов в сеть, к которой не принадлежит ни один из интерфейсов устройства. **Шлюз по умолчанию** - это конкретный IP-адрес маршрутизатора, который используется в качестве шлюза по умолчанию для отправки пакетов в сеть, к которой не принадлежит ни один из интерфейсов устройства. Таким образом, **маршрут по умолчанию** - это запись в **таблице маршрутизации**, а **шлюз по умолчанию** - это конкретный узел сети.  
  
* **Маршрут по умолчанию** (**Default Route**) указывает куда направлять пакет, если к сети нет явно прописанного маршрута
* **Обозначение:** "```сеть 0.0.0.0 с маской сети 0.0.0.0```". Сеть ```0.0.0.0``` с маской сети ```0.0.0.0``` в таблице маршрутизации является маршрутом по умолчанию, который указывает, что все пакеты, для которых нет явного маршрута в таблице маршрутизации, должны быть отправлены через этот маршрут. Таким образом, этот маршрут используется, когда маршрутизатор не может найти более точный маршрут для доставки пакета.
* Доступен через **шлюз по умолчанию** (**Default Gateway**) - IP-адрес маршрутизатора, который используется для отправки пакетов в сеть, к которой не принадлежит ни один из интерфейсов маршрутизатора. Когда устройство отправляет пакет в сеть, оно проверяет таблицу маршрутизации на наличие явного маршрута для этой сети. Если такой маршрут не найден, то пакет отправляется через шлюз по умолчанию. Шлюз по умолчанию может быть настроен на любом устройстве, которое имеет доступ к другим сетям, например, на маршрутизаторе или коммутаторе.
  
В маршрутизаторе практически невозможно прописать маршруты до абсолютно всех сетей, поэтому, как правило, у нас указаны какие-то известные маршрутизатору сети, например, внутренняя сеть, внешняя сеть, и при этом далее указывается маршрут по умолчанию. Т.е. нам нужно отправиться куда-то, чей маршрут мы не знаем, например в Google, а этого маршрута у нас нет, мы указываем маршрут по умолчанию, как правило, это до нашего интернет-провайдера, если у нас нет явно прописанного маршрута.  
  
Пример таблицы маршрутизации для Windows:
[win_routes](images/win_routes.png)  
  
В Windows можно посмотреть таблицу маршрутизации с помощью команды ```route print```. 
В Linux можно посмотреть таблицу маршрутизации с помощью команды ```ip route show``` или ```route -n```.  
  


----------------------

Маршрут

Протоколы динамической маршрутизации. Ospf bgp grp rip

Метрики маршрутов

Полоса пропускания канала

Автономные системы - совокупность роутера, находящиеся под единым административным управлением. Эти роутеры могут быть дома, на работе, у провайдера и тд. Т.е. любые роутеры, которыми управляет определенная группа специалистов

Классовык и бесклассовые протоколы

Роутер

Глобально в интернете работает протокол bgp

IGP/EGP динамические маршруты
* IGP (Interior Gateway Protocol) - это протокол маршрутизации внутри одной автономной системы (AS), который позволяет определять оптимальный маршрут для передачи данных между устройствами внутри AS. Некоторые примеры IGP: OSPF, RIP, EIGRP.
* EGP (Exterior Gateway Protocol) - это протокол маршрутизации между различными автономными системами (AS), который определяет оптимальный маршрут для передачи данных между различными AS. Некоторые примеры EGP: BGP, EGP.
